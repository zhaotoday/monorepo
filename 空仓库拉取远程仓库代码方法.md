将一个已关联远程仓库的空仓库，变更为包含另一个仓库完整历史记录的起点，核心操作是**添加另一个仓库作为远程仓库，然后将其分支内容获取（fetch）并合并（merge）到本地，最后推送到你原本关联的那个远程仓库**。

下面表格详细说明了每一步的操作、命令和解释：

| 步骤 | 操作 | 命令 | 说明 |
| :--- | :--- | :--- | :--- |
| **1** | **添加源仓库** | `git remote add source_repo <另一个仓库的URL>` | 为你想要拉取代码的仓库（源仓库）设置一个别名（例如`source_repo`），以便后续操作。 |
| **2** | **获取提交记录** | `git fetch source_repo` | 将源仓库的所有分支和**完整的提交历史**下载到你的本地仓库。这是保留提交记录的关键。 |
| **3** | **合并代码与历史** | `git merge source_repo/<分支名> --allow-unrelated-histories` | 将源仓库指定分支的历史记录合并到当前分支。**必须使用`--allow-unrelated-histories`选项**，因为这两个仓库最初没有共同的提交历史。 |
| **4** | **推送到目标仓库** | `git push origin main` (或 `master`) | 将合并后包含完整历史记录的代码，推送到你最初关联的那个远程仓库（通常名为`origin`）。至此，该仓库就不再是空仓库，并拥有了另一个仓库的全部历史。 |

### 💡 操作关键与后续

- **核心逻辑**：整个过程的本质是**一次仓库间的合并**。你通过`git fetch`拿到了源仓库的全部历史，然后通过`git merge --allow-unrelated-histories`将两条独立的开发线合并在一起，从而将另一个仓库的历史引入到你当前的空仓库中。

- **分支名称确认**：在执行第3步前，请确认源仓库使用的主要分支名称是 `main` 还是 `master`，并使用相应的分支名。

- **后续清理**：操作完成后，如果你不再需要关联源仓库，可以移除这个远程别名：`git remote remove source_repo`。
